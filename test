#!/bin/bash

# Get the current kernel version
kernel_version=$(uname -r)

# Define the package manager
package_manager="apt"

# Construct the package name based on the kernel version
# Note: This assumes the standard naming convention for Debian/Ubuntu
# For example, for kernel 5.4.0-42-generic, the package would be linux-headers-5.4.0-42-generic
package_name="linux-headers-${kernel_version%-*}"

# Update package lists
echo "Updating package lists..."
sudo $package_manager update

# Install the Linux headers
echo "Installing Linux headers for ${kernel_version}..."
sudo $package_manager install --yes $package_name

echo "Linux headers installation complete."
